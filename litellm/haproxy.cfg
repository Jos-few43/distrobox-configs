global
    pidfile /var/home/yish/litellm-router/haproxy.pid
    log stdout format raw local0 info
    maxconn 4096

defaults
    mode http
    timeout connect 5s
    timeout client  60s
    timeout server  120s
    option httplog
    option dontlognull
    option forwardfor
    retries 3

frontend litellm_front
    bind *:4000
    default_backend litellm_active

backend litellm_active
    server active 127.0.0.1:4001 check inter 5s fall 2 rise 2

listen stats
    bind *:4099
    stats enable
    stats uri /stats
    stats refresh 10s
    stats show-legends
